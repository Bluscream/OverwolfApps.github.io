<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Overwolf Apps</title>
		<meta name="description" content="Overwolf Apps Github Pages">
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
		<script type="text/javascript" src="js/gzip.js"></script>
	</head>
	<body linkifying="true">
		<h1>Overwolf Games List</h1><br><br>
		<div id="loading"><h3>Loading...</h3></div>
    <script type="text/javascript">
      $.getJSON( "https://cors-anywhere.herokuapp.com/http://api.overwolf.com/updates/GameListInfo?CurrentVersion=0", function(data) {
        console.log(data);
				GameListGzipURL = "https://cors-anywhere.herokuapp.com/" + data["GameListGzipURL"];
	      $.get(GameListGzipURL, function(data) {
					console.log(data);
					var unzipped = lzw_decode(data);
					console.log(unzipped);
		      var element = document.getElementById("loading");
		      element.innerHTML = unzipped;
				});
				return;
	      var oReq = new XMLHttpRequest();
	      oReq.open("GET", GameListGzipURL, true);
	      oReq.responseType = "arraybuffer";
	      oReq.onload = function(oEvent) {
		      var arrayBuffer = oReq.response;
		      // if you want to access the bytes:
		      var byteArray = new Uint8Array(arrayBuffer);
					var url = JXG.decompress(byteArray)
		      // If you want to use the image in your DOM:
		      //var blob = new Blob(arrayBuffer, {type: "application/x-gzip"});
		      //var url = URL.createObjectURL(blob);
	      };
	      oReq.send();
      });
    </script>
	</body>
</html>
